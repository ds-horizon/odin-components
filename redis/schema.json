{
  "title": "Redis Component Definition",
  "type": "object",
  "properties": {
    "redisVersion": {
      "type": "string",
      "enum": ["7.1", "7.0", "6.2", "6.0", "5.0.6"],
      "description": "Redis engine version that determines feature availability, protocol compatibility, and performance characteristics. Newer versions offer improved performance, security patches, and additional features. Version selection impacts client library compatibility. Must be explicitly provided. **Production:** Use 7.1 or 7.0 for latest features and performance improvements; 6.2 for stability with broad client support."
    },
    "clusterModeEnabled": {
      "type": "boolean",
      "description": "Specifies whether to run in Redis Cluster mode for sharding and horizontal scaling. For large datasets, enabling this is recommended. **Default: `false`** (single-shard setup).",
      "default": false
    },
    "authentication": {
      "type": "object",
      "description": "Controls whether to enable the Redis AUTH command for password protection. It is highly recommended to enable this for production.",
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Enables Redis AUTH command for password-based access control. When true, clients must authenticate before executing commands. Adds minimal performance overhead but critical for security. **Default: `false`** (disabled for development simplicity). **Production:** Always enable for any environment with sensitive data or external access.",
          "default": false
        },
        "authToken": {
          "type": "string",
          "description": "Secret password required for Redis AUTH when authentication is enabled. Use strong passwords (minimum 16 characters with mixed case, numbers, special characters). Store securely using secrets management systems, never hardcode. Rotate regularly per security policies. **Production:** Use secrets manager integration (AWS Secrets Manager, HashCorp Vault) for automated rotation."
        }
      },
      "required": ["enabled"],
      "if": {
        "properties": { "enabled": { "const": true } }
      },
      "then": {
        "required": ["authToken"]
      }
    },
    "discovery": {
      "type": "object",
      "description": "Defines how clients discover and connect to the Redis instance.",
      "properties": {
        "endpoint": {
          "type": "string",
          "description": "Logical DNS name where clients connect for read/write operations. Acts as the primary entry point to your Redis instance, abstracting the underlying infrastructure. Modern Redis clients handle read/write routing intelligently, automatically discovering replicas and routing reads appropriately in cluster mode. Must be provided by user based on their DNS architecture."
        }
      },
      "required": ["endpoint"]
    }
  },
  "required": [
    "redisVersion",
    "authentication",
    "discovery"
  ]
}
